# keyphrases-generator
Приложение реализует генерацию ключевых фраз по заданным ключевым словам. </br>
Более подробно можно ознакомиться [тут](https://yandex.ru/support/direct/keywords/keywords.html). </br>

## Входные данные

Входные данные представлены в виде совокупности строк,
где каждая из них определяет множество ключей, разделенных символом ```,```
</br>

Порядковый номер строки определяет позицию ключа в полученной фразе.

Пример:
```
Honda, Honda CRF, Honda CRF-450X
Владивосток, Приморский край -Владивосток
продажа, покупка, цена, с пробегом
```
## Выходные данные

Выходные данные - набор фраз, соответствующий критериям, описанным по ссылке выше.

Пример:
 ```
 Honda Владивосток продажа -CRF -450X -Приморский -край
Honda Владивосток покупка -CRF -450X -Приморский -край
Honda Владивосток цена -CRF -450X -Приморский -край
Honda Владивосток +с пробегом -CRF -450X -Приморский -край
Honda Приморский край продажа -CRF -450X -Владивосток
Honda Приморский край покупка -CRF -450X -Владивосток
Honda Приморский край цена -CRF -450X -Владивосток
Honda Приморский край +с пробегом -CRF -450X -Владивосток
Honda CRF Владивосток продажа -450X -Приморский -край
Honda CRF Владивосток покупка -450X -Приморский -край
Honda CRF Владивосток цена -450X -Приморский -край
Honda CRF Владивосток +с пробегом -450X -Приморский -край
Honda CRF Приморский край продажа -450X -Владивосток
Honda CRF Приморский край покупка -450X -Владивосток
Honda CRF Приморский край цена -450X -Владивосток
Honda CRF Приморский край +с пробегом -450X -Владивосток
Honda CRF 450X Владивосток продажа -Приморский -край
Honda CRF 450X Владивосток покупка -Приморский -край
Honda CRF 450X Владивосток цена -Приморский -край
Honda CRF 450X Владивосток +с пробегом -Приморский -край
Honda CRF 450X Приморский край продажа -Владивосток
Honda CRF 450X Приморский край покупка -Владивосток
Honda CRF 450X Приморский край цена -Владивосток
Honda CRF 450X Приморский край +с пробегом -Владивосток
 ```

## Запуск приложения
Перед началом работы убедитесь, что у вас установлен Docker.

### 1. Поднимите контейнер

```make up``` или ```docker compose up -d```

### 2. Запустите команду 

```make run DATA=input.txt``` или ```bin/console generate-keyphrases < input.txt```</br>

Данные считываются с stdin, в корне проекта содержится файл ```input.txt``` для примера. </br>

Результат работы команды отображается в stdout.

## To improve

В целом, скорость работы оптимизировать, используя структуры данных,
например сжатое префиксное дерево (trie) для "разминусовки" слов.</br>

Но смысла в этом немного,
так как количество переcтановок растёт во много раз быстрее, чем количество слов (N < N*M).
Поэтому избавление от квадрата не повлияет на общую асимптотику.</br>

Также можно можно вынести "разминусовку" в отдельный сервис, но на мой взгляд, нахождение в рамках препросессора уместно.

